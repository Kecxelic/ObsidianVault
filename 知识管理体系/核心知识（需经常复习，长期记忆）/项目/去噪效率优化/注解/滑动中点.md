
> [!NOTE] Title
> 一种是取中位数,一种是取中值.
> 中位数不会导致树不平衡.中值会导致树不平衡,采用滑动中点解决树不平衡的问题.
> 对于各向异性大的数据,问题在于空间划分不均匀,圆形搜索域会跨过多个超平面,导致搜索成本增加.
> 可想到的解决办法是:
> 
> 1、归一化处理，即变换范围大小。

简单说，这是在一些数据处理或空间划分场景中，主流资料更推荐用能控制节点纵横比（节点的长和宽的比例）的规则，而滑动中点、中位数就是这类规则里常用的方法，作用是让划分出的节点形状更规整，避免出现过于狭长或扁平的情况，从而提升后续处理的效率或准确性。

接下来，我将从以下几个方面来讲解：
1. 节点纵横比的含义及控制的必要性
2. 滑动中点划分规则的含义
3. 中位数划分规则的含义
4. 这两种规则在控制节点纵横比中的作用

### 1. 节点纵横比的含义及控制的必要性
- 节点纵横比指的是在划分出的区域（可称为节点）中，其最长边与最短边的长度之比。比如一个矩形节点，长为10，宽为2，那么它的纵横比就是5:1。
- 控制它的必要性在于，过于悬殊的纵横比会给后续操作带来麻烦。例如在空间索引中，形状不规则的节点可能导致查询时需要检查更多无关区域，降低效率；在有限元分析里，狭长的单元会影响计算精度和收敛速度。

### 2. 滑动中点划分规则的含义
滑动中点划分规则是一种划分节点的方式。以二维空间中的矩形节点划分为例，假设要沿着某一轴（x轴或y轴）进行划分，先找到该轴方向上节点的两个端点，计算出中点。但这个中点不是固定不变的，会根据一定的规则“滑动”，使得划分后得到的两个子节点的纵横比都处于较为合理的范围。

比如，有一个矩形节点在x轴方向上从1到9，中点是5。如果按照固定中点划分，可能会导致子节点纵横比不佳，这时就可以让中点在一定范围内滑动（比如在4到6之间），选择一个能让子节点形状更规整的点作为实际划分点。

### 3. 中位数划分规则的含义
中位数划分规则则是基于数据的中位数来进行节点划分。在处理一些带有数据分布的节点划分时，比如节点内包含多个数据点，先确定划分轴，然后找出该轴方向上所有数据点坐标的中位数，以这个中位数所在的位置作为划分点，将节点一分为二。

例如，在一个节点中有数据点的x坐标分别为1、3、5、7、9，其x轴方向的中位数是5，就以x=5为划分点，将节点分为左右两个子节点，每个子节点包含相应的数据点。这种方式能使划分后两个子节点内的数据分布相对均衡，同时也有助于控制子节点的纵横比。

### 4. 这两种规则在控制节点纵横比中的作用
滑动中点规则通过灵活调整划分点的位置，避免了因固定划分点而导致子节点形状不佳的问题，能根据节点的实际情况动态选择最优划分点，从而保证子节点纵横比合理。

中位数规则则利用数据分布的特性，以中位数为划分点，使得划分后的子节点在包含数据的情况下，形状相对规整。因为中位数能较好地反映数据的集中趋势，以此划分能让子节点在大小和形状上更均衡，间接控制了纵横比。

这两种规则都是通过合理选择划分点，从根源上避免出现纵横比过大的节点，满足主流资料中对节点形状规整性的要求，进而提升相关处理过程的效果。